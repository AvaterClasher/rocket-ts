# Rocket ðŸ’« TypeScript

Generate types directly from your [Rocket](https://rocket.rs) request handlers.

Inspired by [TypeShare](https://github.com/1Password/typeshare) and kindness for frontend developers. ðŸ¤—

## Current Status

This project is in the early stages of development and is no-where near ready for use. Yet! ðŸ™‚

You should be able to run `cargo run` in the root folder to scan all the files in the `example-handlers` folder. Every function with a `get` or `post` annotation will be collected and written out to `k7.ts` (short for _kindness_). 

Here's how things look at the time of writting:

```typescript
/*
 * Generated by rocket-ts 0.1.0 ðŸš€ ðŸŒŽ
 */
export interface k7 {
    // thread.rs
    // Route: "/thread/<kid_or_cerb_mask>"
    get_thread: (service:AgentService,) => any;
    // Route: "/debug/thread/<kid>"
    get_thread_debug: (service:AgentService,) => any;
    // Route: "/thread/<thread_id>/comments"
    get_thread_comments: (thread_id:i32,service:AgentService,) => any;
    // Route: "/thread/<thread_id>/insights"
    get_thread_insights: (thread_id:i32,service:AgentService,) => any;
    // Route: "/thread/escalate"
    escalate_thread: (ThreadEscalation) => any;

}
```

## Improvements

There's so much to do here so any PR is welcome. But here's a few ideas to get started:

* Use `clap` to allow the user to specify the input and output files.
* Avoid adding that trailing comma to the last parameter in the function signature.
* Output the inner types in `K7Response` instead of falling back to `any`. For example, `K7Response<Vec<Comment>>` should map to `Comment[]`. 
* Omit parameters that implement `FromRequest` as Rocket will create those for us and therefore the client doesn't need to include them. For example, `AgentService` in the generated code above is created within a Rocket request guard.
