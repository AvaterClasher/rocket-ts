# Rocket ðŸ’« TypeScript

![GitHub](https://img.shields.io/github/license/Kindness-Works/rocket-ts)
<!-- ![GitHub release (latest by date)](https://img.shields.io/github/v/release/Kindness-Works/rocket-ts)
![GitHub Workflow Status](https://img.shields.io/github/workflow/status/Kindness-Works/rocket-ts/CI) -->

**Rocket-TS** is a blazing fast type generator for TypeScript from [Rocket](https://rocket.rs) backend ðŸ¦€. It automatically generates TypeScript interfaces for Rocket request handlers, making it easier to integrate your Rust backend with a TypeScript frontend.

Inspired by [TypeShare](https://github.com/1Password/typeshare) and kindness for frontend developers. ðŸ¤—

## Features

-   Generates TypeScript interfaces for Rocket request handlers.
-   Supports exclusion of parameters from the generated interface.
-   Flexible command-line interface.
-   Fast and efficient.

## Installation

1. Make sure you have Rust installed on your system. If not, you can download and install it from the official Rust website: https://www.rust-lang.org/tools/install

2. Clone this repository:

```bash
git clone https://github.com/Kindness-Works/rocket-ts.git
```

3. Change to the project directory:

```bash
cd rocket-ts
```

4. Build the project:

```bash
cargo build --release
```

The binary will be available in the `target/release` directory.

## Using Rocket-TS

To generate TypeScript interfaces, use the `generate` subcommand:

```
rocket-ts generate -i <INPUT> -o <OUTPUT> [-e <EXCLUDE_FILE>]
```

-   `-i`, `--input`: The input directory or file to parse for interface generation.
-   `-o`, `--output`: The output file for the generated interface.
-   `-e`, `--exclude` (optional): A file containing parameters to exclude from the interface (e.g., Request Guards).

## Example

Let's say you have a Rocket project with the following structure:

```
my-rocket-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ users.rs
â”‚   â”‚   â””â”€â”€ posts.rs
â”‚   â””â”€â”€ guards/
â”‚       â””â”€â”€ auth.rs
â””â”€â”€ exclude.txt
```

You can generate TypeScript interfaces for the `users` and `posts` modules by running:

```bash
rocket-ts generate -i src/routes -o interfaces.ts -e exclude.txt
```

This will generate a `interfaces.ts` file containing the TypeScript interfaces for the request handlers in the `users.rs` and `posts.rs` files, excluding the parameters specified in the `exclude.txt` file (e.g., the `auth` guard).

---

Example `interface.ts` it was generated from the `example-handlers` folder in the repository -

```shell
rocket-ts generate -i example-handlers -o example.ts
```

```typescript
/*
 * Generated by rocket-ts 0.1.0 ðŸš€ ðŸŒŽ
 */
   
   export interface k7 {
    // hello.rs
    // Route: "/thread/<kid_or_cerb_mask>"
    get_thread: (service:AgentService) => Thread;
    // Route: "/debug/thread/<kid>"
    get_thread_debug: (service:AgentService) => ThreadDebug;
    // Route: "/thread/<thread_id>/comments"
    get_thread_comments: (thread_id:i32,service:AgentService) => Comment[];
    // Route: "/thread/<thread_id>/insights"
    get_thread_insights: (thread_id:i32,service:AgentService) => MessageInsights;
    // Route: "/thread/escalate"
    escalate_thread: (ThreadEscalation) => any;
}
```

## Contributing

Contributions are welcome! Feel free to open an issue or submit a pull request.

## License

This project is licensed under the [MIT License](LICENSE).
